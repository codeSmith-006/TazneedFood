"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/route";
exports.ids = ["app/api/products/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_ryanrehan_Programming_Development_artisan_eats_src_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/products/route.js */ \"(rsc)/./src/app/api/products/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/route\",\n        pathname: \"/api/products\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/route\"\n    },\n    resolvedPagePath: \"/home/ryanrehan/Programming/Development/artisan-eats/src/app/api/products/route.js\",\n    nextConfigOutput,\n    userland: _home_ryanrehan_Programming_Development_artisan_eats_src_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/products/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGcnlhbnJlaGFuJTJGUHJvZ3JhbW1pbmclMkZEZXZlbG9wbWVudCUyRmFydGlzYW4tZWF0cyUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnJ5YW5yZWhhbiUyRlByb2dyYW1taW5nJTJGRGV2ZWxvcG1lbnQlMkZhcnRpc2FuLWVhdHMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tDO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJ0aXNhbi1lYXRzLW5leHQvPzIxM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvcnlhbnJlaGFuL1Byb2dyYW1taW5nL0RldmVsb3BtZW50L2FydGlzYW4tZWF0cy9zcmMvYXBwL2FwaS9wcm9kdWN0cy9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvZHVjdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9yeWFucmVoYW4vUHJvZ3JhbW1pbmcvRGV2ZWxvcG1lbnQvYXJ0aXNhbi1lYXRzL3NyYy9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9kdWN0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/products/route.js":
/*!***************************************!*\
  !*** ./src/app/api/products/route.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Product */ \"(rsc)/./src/models/Product.js\");\n\n\n\nconst parseBoolean = (value)=>{\n    if (value === null || value === undefined) return null;\n    if (value === \"true\") return true;\n    if (value === \"false\") return false;\n    return null;\n};\nasync function GET(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectDB)();\n        const { searchParams } = new URL(req.url);\n        const filter = {};\n        const category = searchParams.get(\"category\");\n        if (category) {\n            if (category === \"offer\") {\n                filter.isOffer = true;\n            } else if (category === \"best-seller\") {\n                filter.isBestSeller = true;\n            } else {\n                filter.categorySlug = category;\n            }\n        }\n        const isOffer = parseBoolean(searchParams.get(\"isOffer\"));\n        if (isOffer !== null) filter.isOffer = isOffer;\n        const isBestSeller = parseBoolean(searchParams.get(\"isBestSeller\"));\n        if (isBestSeller !== null) filter.isBestSeller = isBestSeller;\n        const inStock = parseBoolean(searchParams.get(\"inStock\"));\n        if (inStock !== null) filter.inStock = inStock;\n        const minPriceParam = searchParams.get(\"minPrice\");\n        const maxPriceParam = searchParams.get(\"maxPrice\");\n        const minPrice = minPriceParam !== null ? Number(minPriceParam) : null;\n        const maxPrice = maxPriceParam !== null ? Number(maxPriceParam) : null;\n        if (minPriceParam !== null || maxPriceParam !== null) {\n            const priceFilter = {};\n            if (minPriceParam !== null && !Number.isNaN(minPrice)) priceFilter.$gte = minPrice;\n            if (maxPriceParam !== null && !Number.isNaN(maxPrice)) priceFilter.$lte = maxPrice;\n            if (Object.keys(priceFilter).length > 0) {\n                filter.price = priceFilter;\n            }\n        }\n        const search = searchParams.get(\"search\");\n        if (search) {\n            const regex = new RegExp(search, \"i\");\n            filter.$or = [\n                {\n                    name: regex\n                },\n                {\n                    description: regex\n                }\n            ];\n        }\n        const sortParam = searchParams.get(\"sort\") || \"newest\";\n        let sort = {\n            createdAt: -1\n        };\n        if (sortParam === \"price_asc\") sort = {\n            price: 1\n        };\n        if (sortParam === \"price_desc\") sort = {\n            price: -1\n        };\n        if (sortParam === \"name_asc\") sort = {\n            name: 1\n        };\n        if (sortParam === \"name_desc\") sort = {\n            name: -1\n        };\n        const page = Math.max(1, Number(searchParams.get(\"page\") || 1));\n        const limit = Math.max(1, Number(searchParams.get(\"limit\") || 12));\n        const skip = (page - 1) * limit;\n        const total = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(filter);\n        let products = [];\n        try {\n            products = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(filter).sort(sort).skip(skip).limit(limit).lean();\n        } catch (queryError) {\n            console.error(\"Product.find failed, falling back to raw collection:\", queryError);\n            products = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].collection.find(filter).sort(sort).skip(skip).limit(limit).toArray();\n        }\n        const normalized = products.map((product)=>({\n                id: product._id.toString(),\n                name: product.name,\n                slug: product.slug,\n                category: product.category?.toString(),\n                categorySlug: product.categorySlug,\n                price: product.price,\n                oldPrice: product.oldPrice,\n                description: product.description || \"\",\n                details: product.details || [],\n                images: product.images || [],\n                inStock: Boolean(product.inStock),\n                isBestSeller: Boolean(product.isBestSeller),\n                isOffer: Boolean(product.isOffer),\n                createdAt: product.createdAt,\n                updatedAt: product.updatedAt\n            }));\n        const totalPages = Math.max(1, Math.ceil(total / limit));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            products: normalized,\n            total,\n            page,\n            totalPages\n        });\n    } catch (error) {\n        console.error(\"GET /api/products failed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error?.message || \"Failed to load products\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixXQUFXVCxRQUFRUyxTQUFTO1lBQzlCO1FBRUEsTUFBTUMsYUFBYTFCLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLMkIsSUFBSSxDQUFDdkIsUUFBUUY7UUFFakQsT0FBTzNDLHFEQUFZQSxDQUFDcUUsSUFBSSxDQUFDO1lBQ3ZCdEIsVUFBVVE7WUFDVlY7WUFDQUw7WUFDQTJCO1FBQ0Y7SUFDRixFQUFFLE9BQU9mLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT3BELHFEQUFZQSxDQUFDcUUsSUFBSSxDQUN0QjtZQUFFakIsT0FBT0EsT0FBT2tCLFdBQVc7UUFBMEIsR0FDckQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcnRpc2FuLWVhdHMtbmV4dC8uL3NyYy9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzPzk2ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBjb25uZWN0REIgfSBmcm9tIFwiQC9saWIvbW9uZ29kYlwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIkAvbW9kZWxzL1Byb2R1Y3RcIjtcblxuY29uc3QgcGFyc2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgaWYgKHZhbHVlID09PSBcInRydWVcIikgcmV0dXJuIHRydWU7XG4gIGlmICh2YWx1ZSA9PT0gXCJmYWxzZVwiKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBudWxsO1xufTtcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcSkge1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3REQigpO1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpO1xuXG4gICAgY29uc3QgZmlsdGVyID0ge307XG5cbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjYXRlZ29yeVwiKTtcbiAgICBpZiAoY2F0ZWdvcnkpIHtcbiAgICAgIGlmIChjYXRlZ29yeSA9PT0gXCJvZmZlclwiKSB7XG4gICAgICAgIGZpbHRlci5pc09mZmVyID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09IFwiYmVzdC1zZWxsZXJcIikge1xuICAgICAgICBmaWx0ZXIuaXNCZXN0U2VsbGVyID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlci5jYXRlZ29yeVNsdWcgPSBjYXRlZ29yeTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc09mZmVyID0gcGFyc2VCb29sZWFuKHNlYXJjaFBhcmFtcy5nZXQoXCJpc09mZmVyXCIpKTtcbiAgICBpZiAoaXNPZmZlciAhPT0gbnVsbCkgZmlsdGVyLmlzT2ZmZXIgPSBpc09mZmVyO1xuXG4gICAgY29uc3QgaXNCZXN0U2VsbGVyID0gcGFyc2VCb29sZWFuKHNlYXJjaFBhcmFtcy5nZXQoXCJpc0Jlc3RTZWxsZXJcIikpO1xuICAgIGlmIChpc0Jlc3RTZWxsZXIgIT09IG51bGwpIGZpbHRlci5pc0Jlc3RTZWxsZXIgPSBpc0Jlc3RTZWxsZXI7XG5cbiAgICBjb25zdCBpblN0b2NrID0gcGFyc2VCb29sZWFuKHNlYXJjaFBhcmFtcy5nZXQoXCJpblN0b2NrXCIpKTtcbiAgICBpZiAoaW5TdG9jayAhPT0gbnVsbCkgZmlsdGVyLmluU3RvY2sgPSBpblN0b2NrO1xuXG4gICAgY29uc3QgbWluUHJpY2VQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJtaW5QcmljZVwiKTtcbiAgICBjb25zdCBtYXhQcmljZVBhcmFtID0gc2VhcmNoUGFyYW1zLmdldChcIm1heFByaWNlXCIpO1xuICAgIGNvbnN0IG1pblByaWNlID0gbWluUHJpY2VQYXJhbSAhPT0gbnVsbCA/IE51bWJlcihtaW5QcmljZVBhcmFtKSA6IG51bGw7XG4gICAgY29uc3QgbWF4UHJpY2UgPSBtYXhQcmljZVBhcmFtICE9PSBudWxsID8gTnVtYmVyKG1heFByaWNlUGFyYW0pIDogbnVsbDtcblxuICAgIGlmIChtaW5QcmljZVBhcmFtICE9PSBudWxsIHx8IG1heFByaWNlUGFyYW0gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByaWNlRmlsdGVyID0ge307XG4gICAgICBpZiAobWluUHJpY2VQYXJhbSAhPT0gbnVsbCAmJiAhTnVtYmVyLmlzTmFOKG1pblByaWNlKSkgcHJpY2VGaWx0ZXIuJGd0ZSA9IG1pblByaWNlO1xuICAgICAgaWYgKG1heFByaWNlUGFyYW0gIT09IG51bGwgJiYgIU51bWJlci5pc05hTihtYXhQcmljZSkpIHByaWNlRmlsdGVyLiRsdGUgPSBtYXhQcmljZTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcmljZUZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgICBmaWx0ZXIucHJpY2UgPSBwcmljZUZpbHRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KFwic2VhcmNoXCIpO1xuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKTtcbiAgICAgIGZpbHRlci4kb3IgPSBbeyBuYW1lOiByZWdleCB9LCB7IGRlc2NyaXB0aW9uOiByZWdleCB9XTtcbiAgICB9XG5cbiAgICBjb25zdCBzb3J0UGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KFwic29ydFwiKSB8fCBcIm5ld2VzdFwiO1xuICAgIGxldCBzb3J0ID0geyBjcmVhdGVkQXQ6IC0xIH07XG4gICAgaWYgKHNvcnRQYXJhbSA9PT0gXCJwcmljZV9hc2NcIikgc29ydCA9IHsgcHJpY2U6IDEgfTtcbiAgICBpZiAoc29ydFBhcmFtID09PSBcInByaWNlX2Rlc2NcIikgc29ydCA9IHsgcHJpY2U6IC0xIH07XG4gICAgaWYgKHNvcnRQYXJhbSA9PT0gXCJuYW1lX2FzY1wiKSBzb3J0ID0geyBuYW1lOiAxIH07XG4gICAgaWYgKHNvcnRQYXJhbSA9PT0gXCJuYW1lX2Rlc2NcIikgc29ydCA9IHsgbmFtZTogLTEgfTtcblxuICAgIGNvbnN0IHBhZ2UgPSBNYXRoLm1heCgxLCBOdW1iZXIoc2VhcmNoUGFyYW1zLmdldChcInBhZ2VcIikgfHwgMSkpO1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5tYXgoMSwgTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoXCJsaW1pdFwiKSB8fCAxMikpO1xuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogbGltaXQ7XG5cbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFByb2R1Y3QuY291bnREb2N1bWVudHMoZmlsdGVyKTtcblxuICAgIGxldCBwcm9kdWN0cyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZChmaWx0ZXIpXG4gICAgICAgIC5zb3J0KHNvcnQpXG4gICAgICAgIC5za2lwKHNraXApXG4gICAgICAgIC5saW1pdChsaW1pdClcbiAgICAgICAgLmxlYW4oKTtcbiAgICB9IGNhdGNoIChxdWVyeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUHJvZHVjdC5maW5kIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIHJhdyBjb2xsZWN0aW9uOlwiLCBxdWVyeUVycm9yKTtcbiAgICAgIHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5jb2xsZWN0aW9uXG4gICAgICAgIC5maW5kKGZpbHRlcilcbiAgICAgICAgLnNvcnQoc29ydClcbiAgICAgICAgLnNraXAoc2tpcClcbiAgICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgICAudG9BcnJheSgpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBwcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+ICh7XG4gICAgICBpZDogcHJvZHVjdC5faWQudG9TdHJpbmcoKSxcbiAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIGNhdGVnb3J5OiBwcm9kdWN0LmNhdGVnb3J5Py50b1N0cmluZygpLFxuICAgICAgY2F0ZWdvcnlTbHVnOiBwcm9kdWN0LmNhdGVnb3J5U2x1ZyxcbiAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgb2xkUHJpY2U6IHByb2R1Y3Qub2xkUHJpY2UsXG4gICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgICAgZGV0YWlsczogcHJvZHVjdC5kZXRhaWxzIHx8IFtdLFxuICAgICAgaW1hZ2VzOiBwcm9kdWN0LmltYWdlcyB8fCBbXSxcbiAgICAgIGluU3RvY2s6IEJvb2xlYW4ocHJvZHVjdC5pblN0b2NrKSxcbiAgICAgIGlzQmVzdFNlbGxlcjogQm9vbGVhbihwcm9kdWN0LmlzQmVzdFNlbGxlciksXG4gICAgICBpc09mZmVyOiBCb29sZWFuKHByb2R1Y3QuaXNPZmZlciksXG4gICAgICBjcmVhdGVkQXQ6IHByb2R1Y3QuY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZEF0OiBwcm9kdWN0LnVwZGF0ZWRBdCxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBwcm9kdWN0czogbm9ybWFsaXplZCxcbiAgICAgIHRvdGFsLFxuICAgICAgcGFnZSxcbiAgICAgIHRvdGFsUGFnZXMsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkdFVCAvYXBpL3Byb2R1Y3RzIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgcHJvZHVjdHNcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb25uZWN0REIiLCJQcm9kdWN0IiwicGFyc2VCb29sZWFuIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJHRVQiLCJyZXEiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJmaWx0ZXIiLCJjYXRlZ29yeSIsImdldCIsImlzT2ZmZXIiLCJpc0Jlc3RTZWxsZXIiLCJjYXRlZ29yeVNsdWciLCJpblN0b2NrIiwibWluUHJpY2VQYXJhbSIsIm1heFByaWNlUGFyYW0iLCJtaW5QcmljZSIsIk51bWJlciIsIm1heFByaWNlIiwicHJpY2VGaWx0ZXIiLCJpc05hTiIsIiRndGUiLCIkbHRlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInByaWNlIiwic2VhcmNoIiwicmVnZXgiLCJSZWdFeHAiLCIkb3IiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJzb3J0UGFyYW0iLCJzb3J0IiwiY3JlYXRlZEF0IiwicGFnZSIsIk1hdGgiLCJtYXgiLCJsaW1pdCIsInNraXAiLCJ0b3RhbCIsImNvdW50RG9jdW1lbnRzIiwicHJvZHVjdHMiLCJmaW5kIiwibGVhbiIsInF1ZXJ5RXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJjb2xsZWN0aW9uIiwidG9BcnJheSIsIm5vcm1hbGl6ZWQiLCJtYXAiLCJwcm9kdWN0IiwiaWQiLCJfaWQiLCJ0b1N0cmluZyIsInNsdWciLCJvbGRQcmljZSIsImRldGFpbHMiLCJpbWFnZXMiLCJCb29sZWFuIiwidXBkYXRlZEF0IiwidG90YWxQYWdlcyIsImNlaWwiLCJqc29uIiwibWVzc2FnZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/products/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.js":
/*!****************************!*\
  !*** ./src/lib/mongodb.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectDB: () => (/* binding */ connectDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nconst { MONGODB_URI } = process.env;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define MONGODB_URI in .env.local\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    if (cached.conn) return cached.conn;\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0__.connect(MONGODB_URI, {\n            bufferCommands: false\n        }).then((mongooseInstance)=>mongooseInstance);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFFaEMsTUFBTSxFQUFFQyxXQUFXLEVBQUUsR0FBR0MsUUFBUUMsR0FBRztBQUVuQyxJQUFJLENBQUNGLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUM1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRU8sZUFBZUM7SUFDcEIsSUFBSUosT0FBT0UsSUFBSSxFQUFFLE9BQU9GLE9BQU9FLElBQUk7SUFFbkMsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkJILE9BQU9HLE9BQU8sR0FBR1IsNkNBQ1AsQ0FBQ0MsYUFBYTtZQUFFVSxnQkFBZ0I7UUFBTSxHQUM3Q0MsSUFBSSxDQUFDLENBQUNDLG1CQUFxQkE7SUFDaEM7SUFFQVIsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FydGlzYW4tZWF0cy1uZXh0Ly4vc3JjL2xpYi9tb25nb2RiLmpzPzhiMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCB7IE1PTkdPREJfVVJJIH0gPSBwcm9jZXNzLmVudjtcblxuaWYgKCFNT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgZGVmaW5lIE1PTkdPREJfVVJJIGluIC5lbnYubG9jYWxcIik7XG59XG5cbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcbiAgaWYgKGNhY2hlZC5jb25uKSByZXR1cm4gY2FjaGVkLmNvbm47XG5cbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2VcbiAgICAgIC5jb25uZWN0KE1PTkdPREJfVVJJLCB7IGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSB9KVxuICAgICAgLnRoZW4oKG1vbmdvb3NlSW5zdGFuY2UpID0+IG1vbmdvb3NlSW5zdGFuY2UpO1xuICB9XG5cbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xufVxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REQiIsImNvbm5lY3QiLCJidWZmZXJDb21tYW5kcyIsInRoZW4iLCJtb25nb29zZUluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Product.js":
/*!*******************************!*\
  !*** ./src/models/Product.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nconst ProductSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true,\n        trim: true,\n        index: true\n    },\n    category: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"Category\",\n        required: true\n    },\n    categorySlug: {\n        type: String,\n        required: true,\n        trim: true,\n        index: true\n    },\n    price: {\n        type: Number,\n        required: true\n    },\n    oldPrice: {\n        type: Number\n    },\n    description: {\n        type: String,\n        default: \"\"\n    },\n    details: [\n        {\n            type: String\n        }\n    ],\n    images: [\n        {\n            type: String\n        }\n    ],\n    inStock: {\n        type: Boolean,\n        default: true\n    },\n    isBestSeller: {\n        type: Boolean,\n        default: false,\n        index: true\n    },\n    isOffer: {\n        type: Boolean,\n        default: false,\n        index: true\n    }\n}, {\n    timestamps: true\n});\nProductSchema.index({\n    price: 1\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Product || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"Product\", ProductSchema, \"products\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1Byb2R1Y3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsZ0JBQWdCLElBQUlELDRDQUFlLENBQ3ZDO0lBQ0VHLE1BQU07UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtRQUFNQyxNQUFNO0lBQUs7SUFDakRDLE1BQU07UUFDSkosTUFBTUM7UUFDTkMsVUFBVTtRQUNWRyxRQUFRO1FBQ1JGLE1BQU07UUFDTkcsT0FBTztJQUNUO0lBQ0FDLFVBQVU7UUFDUlAsTUFBTUosNENBQWUsQ0FBQ1ksS0FBSyxDQUFDQyxRQUFRO1FBQ3BDQyxLQUFLO1FBQ0xSLFVBQVU7SUFDWjtJQUNBUyxjQUFjO1FBQUVYLE1BQU1DO1FBQVFDLFVBQVU7UUFBTUMsTUFBTTtRQUFNRyxPQUFPO0lBQUs7SUFDdEVNLE9BQU87UUFBRVosTUFBTWE7UUFBUVgsVUFBVTtJQUFLO0lBQ3RDWSxVQUFVO1FBQUVkLE1BQU1hO0lBQU87SUFDekJFLGFBQWE7UUFBRWYsTUFBTUM7UUFBUWUsU0FBUztJQUFHO0lBQ3pDQyxTQUFTO1FBQUM7WUFBRWpCLE1BQU1DO1FBQU87S0FBRTtJQUMzQmlCLFFBQVE7UUFBQztZQUFFbEIsTUFBTUM7UUFBTztLQUFFO0lBQzFCa0IsU0FBUztRQUFFbkIsTUFBTW9CO1FBQVNKLFNBQVM7SUFBSztJQUN4Q0ssY0FBYztRQUFFckIsTUFBTW9CO1FBQVNKLFNBQVM7UUFBT1YsT0FBTztJQUFLO0lBQzNEZ0IsU0FBUztRQUFFdEIsTUFBTW9CO1FBQVNKLFNBQVM7UUFBT1YsT0FBTztJQUFLO0FBQ3hELEdBQ0E7SUFBRWlCLFlBQVk7QUFBSztBQUdyQjFCLGNBQWNTLEtBQUssQ0FBQztJQUFFTSxPQUFPO0FBQUU7QUFFL0IsaUVBQWVoQiw0Q0FBZSxDQUFDNkIsT0FBTyxJQUNwQzdCLDJDQUFjLENBQUMsV0FBV0MsZUFBZSxXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcnRpc2FuLWVhdHMtbmV4dC8uL3NyYy9tb2RlbHMvUHJvZHVjdC5qcz9kMTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHRyaW06IHRydWUgfSxcbiAgICBzbHVnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICB9LFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6IFwiQ2F0ZWdvcnlcIixcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY2F0ZWdvcnlTbHVnOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHRyaW06IHRydWUsIGluZGV4OiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG9sZFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogXCJcIiB9LFxuICAgIGRldGFpbHM6IFt7IHR5cGU6IFN0cmluZyB9XSxcbiAgICBpbWFnZXM6IFt7IHR5cGU6IFN0cmluZyB9XSxcbiAgICBpblN0b2NrOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBpc0Jlc3RTZWxsZXI6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UsIGluZGV4OiB0cnVlIH0sXG4gICAgaXNPZmZlcjogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSwgaW5kZXg6IHRydWUgfSxcbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH0sXG4pO1xuXG5Qcm9kdWN0U2NoZW1hLmluZGV4KHsgcHJpY2U6IDEgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Qcm9kdWN0IHx8XG4gIG1vbmdvb3NlLm1vZGVsKFwiUHJvZHVjdFwiLCBQcm9kdWN0U2NoZW1hLCBcInByb2R1Y3RzXCIpO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiUHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwic2x1ZyIsInVuaXF1ZSIsImluZGV4IiwiY2F0ZWdvcnkiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY2F0ZWdvcnlTbHVnIiwicHJpY2UiLCJOdW1iZXIiLCJvbGRQcmljZSIsImRlc2NyaXB0aW9uIiwiZGVmYXVsdCIsImRldGFpbHMiLCJpbWFnZXMiLCJpblN0b2NrIiwiQm9vbGVhbiIsImlzQmVzdFNlbGxlciIsImlzT2ZmZXIiLCJ0aW1lc3RhbXBzIiwibW9kZWxzIiwiUHJvZHVjdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Product.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryanrehan%2FProgramming%2FDevelopment%2Fartisan-eats&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();