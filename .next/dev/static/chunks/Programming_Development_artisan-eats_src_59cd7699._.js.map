{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA0BsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA2DsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAwGsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAkBsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAoCsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA8DsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MA+EsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,qDAAA"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MAoHsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,+CAAA"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MAsIsB,wBAAA,WAAA,GAAA,IAAA,mSAAA,EAAA,8CAAA,wRAAA,EAAA,KAAA,GAAA,8RAAA,EAAA,qDAAA"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/hooks/useAdminStore.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { createProduct, updateProduct, deleteProduct } from \"@/app/actions/products\";\nimport { createCategory, updateCategory, deleteCategory } from \"@/app/actions/categories\";\nimport { updateOrderStatus, deleteOrder, getOrderAnalytics } from \"@/app/actions/orders\";\n\nconst CACHE_TTL_MS = 60 * 1000;\nconst adminCache = {\n  products: null,\n  categories: null,\n  orders: null,\n  analytics: null,\n  timestamp: 0,\n};\n\nexport const useAdminStore = (options = {}) => {\n  const { loadAnalytics = true } = options;\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [analytics, setAnalytics] = useState({\n    totalOrders: 0,\n    pendingOrders: 0,\n    deliveredOrders: 0,\n    cancelledOrders: 0,\n    totalRevenue: 0,\n    todayRevenue: 0,\n    ordersPerDay: [],\n  });\n  const [isLoading, setIsLoading] = useState(true);\n\n  const refreshData = useCallback(async (force = false) => {\n    setIsLoading(true);\n\n    const cacheAge = Date.now() - adminCache.timestamp;\n    const cacheReady =\n      adminCache.timestamp > 0 &&\n      cacheAge < CACHE_TTL_MS &&\n      adminCache.products &&\n      adminCache.categories &&\n      adminCache.orders &&\n      (!loadAnalytics || adminCache.analytics);\n\n    if (!force && cacheReady) {\n      setProducts(adminCache.products);\n      setCategories(adminCache.categories);\n      setOrders(adminCache.orders);\n      setAnalytics(adminCache.analytics);\n      setIsLoading(false);\n      return;\n    }\n\n    const [productsRes, categoriesRes, ordersRes] = await Promise.all([\n      fetch(\"/api/products?limit=1000\"),\n      fetch(\"/api/categories\"),\n      fetch(\"/api/orders?page=1&limit=200\"),\n    ]);\n\n    const nextCache = {\n      products: productsRes.ok ? (await productsRes.json()).products || [] : adminCache.products || [],\n      categories: categoriesRes.ok ? (await categoriesRes.json()).categories || [] : adminCache.categories || [],\n      orders: ordersRes.ok ? (await ordersRes.json()).orders || [] : adminCache.orders || [],\n      analytics: adminCache.analytics || analytics,\n    };\n\n    setProducts(nextCache.products);\n    setCategories(nextCache.categories);\n    setOrders(nextCache.orders);\n\n    if (loadAnalytics) {\n      try {\n        const analyticsData = await getOrderAnalytics();\n        nextCache.analytics = analyticsData;\n        setAnalytics(analyticsData);\n      } catch {\n        setAnalytics((prev) => prev);\n      }\n    }\n\n    adminCache.products = nextCache.products;\n    adminCache.categories = nextCache.categories;\n    adminCache.orders = nextCache.orders;\n    if (loadAnalytics) {\n      adminCache.analytics = nextCache.analytics;\n    }\n    adminCache.timestamp = Date.now();\n\n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    refreshData();\n  }, [refreshData]);\n\n  const addProduct = useCallback(async (product) => {\n    const created = await createProduct(product);\n    setProducts((prev) => [...prev, created]);\n    return created;\n  }, []);\n\n  const updateProductById = useCallback(async (id, updates) => {\n    const updated = await updateProduct(id, updates);\n    setProducts((prev) => prev.map((p) => (p.id === id ? updated : p)));\n  }, []);\n\n  const deleteProductById = useCallback(async (id) => {\n    await deleteProduct(id);\n    setProducts((prev) => prev.filter((p) => p.id !== id));\n  }, []);\n\n  const addCategory = useCallback(async (category) => {\n    const created = await createCategory(category);\n    setCategories((prev) => [...prev, created]);\n    return created;\n  }, []);\n\n  const updateCategoryById = useCallback(async (id, updates) => {\n    const updated = await updateCategory(id, updates);\n    setCategories((prev) => prev.map((c) => (c.id === id ? updated : c)));\n  }, []);\n\n  const deleteCategoryById = useCallback(async (id) => {\n    await deleteCategory(id);\n    setCategories((prev) => prev.filter((c) => c.id !== id));\n  }, []);\n\n  const updateOrderStatusById = useCallback(async (id, status) => {\n    const updated = await updateOrderStatus(id, status);\n    setOrders((prev) => prev.map((o) => (o.id === id ? { ...o, status: updated.status } : o)));\n  }, []);\n\n  const deleteOrderById = useCallback(async (id) => {\n    await deleteOrder(id);\n    setOrders((prev) => prev.filter((o) => o.id !== id));\n  }, []);\n\n  const getStats = useCallback(() => {\n    return {\n      totalOrders: analytics.totalOrders,\n      pendingOrders: analytics.pendingOrders,\n      deliveredOrders: analytics.deliveredOrders,\n      cancelledOrders: analytics.cancelledOrders,\n      revenue: analytics.totalRevenue,\n      todayRevenue: analytics.todayRevenue,\n      totalProducts: products.length,\n      ordersPerDay: analytics.ordersPerDay,\n    };\n  }, [analytics, products.length]);\n\n  return {\n    products,\n    categories,\n    orders,\n    analytics,\n    isLoading,\n    addProduct,\n    updateProduct: updateProductById,\n    deleteProduct: deleteProductById,\n    addCategory,\n    updateCategory: updateCategoryById,\n    deleteCategory: deleteCategoryById,\n    updateOrderStatus: updateOrderStatusById,\n    deleteOrder: deleteOrderById,\n    getStats,\n    refreshData,\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/ui/LoadingScreen.jsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\nexport default function LoadingScreen({\n  title = \"Loading...\",\n  subtitle = \"Please wait\"\n}) {\n  return (\n    <div className=\"min-h-[70vh] flex items-center justify-center bg-background\">\n      <div className=\"text-center px-4\">\n        {/* Animated Logo/Spinner */}\n        <motion.div\n          className=\"relative mx-auto w-16 h-16 mb-6\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.3 }}\n        >\n          {/* Outer Ring */}\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-4 border-primary/20\"\n            initial={{ rotate: 0 }}\n            animate={{ rotate: 360 }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"linear\"\n            }}\n          />\n\n          {/* Inner Spinning Circle */}\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-4 border-transparent border-t-primary\"\n            initial={{ rotate: 0 }}\n            animate={{ rotate: 360 }}\n            transition={{\n              duration: 1,\n              repeat: Infinity,\n              ease: \"linear\"\n            }}\n          />\n\n          {/* Center Dot */}\n          <motion.div\n            className=\"absolute inset-0 m-auto w-4 h-4 rounded-full bg-primary\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [1, 0.8, 1]\n            }}\n            transition={{\n              duration: 1.5,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n          />\n        </motion.div>\n\n        {/* Text */}\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.4, delay: 0.1 }}\n          className=\"space-y-2\"\n        >\n          <h3 className=\"font-display text-xl sm:text-2xl font-semibold text-foreground\">\n            {title}\n          </h3>\n          <p className=\"text-sm text-muted-foreground\">\n            {subtitle}\n          </p>\n        </motion.div>\n\n        {/* Pulsing Dots */}\n        <motion.div\n          className=\"flex items-center justify-center gap-2 mt-6\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.4, delay: 0.2 }}\n        >\n          {[0, 1, 2].map((index) => (\n            <motion.div\n              key={index}\n              className=\"w-2 h-2 rounded-full bg-primary\"\n              animate={{\n                scale: [1, 1.5, 1],\n                opacity: [0.3, 1, 0.3]\n              }}\n              transition={{\n                duration: 1.5,\n                repeat: Infinity,\n                delay: index * 0.2,\n                ease: \"easeInOut\"\n              }}\n            />\n          ))}\n        </motion.div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,cAAc,EACpC,QAAQ,YAAY,EACpB,WAAW,aAAa,EACzB;IACC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC,wPAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAI;oBAClC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBAAE,UAAU;oBAAI;;sCAG5B,8OAAC,wPAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,QAAQ;4BAAE;4BACrB,SAAS;gCAAE,QAAQ;4BAAI;4BACvB,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,MAAM;4BACR;;;;;;sCAIF,8OAAC,wPAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,QAAQ;4BAAE;4BACrB,SAAS;gCAAE,QAAQ;4BAAI;4BACvB,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,MAAM;4BACR;;;;;;sCAIF,8OAAC,wPAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCACP,OAAO;oCAAC;oCAAG;oCAAK;iCAAE;gCAClB,SAAS;oCAAC;oCAAG;oCAAK;iCAAE;4BACtB;4BACA,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,MAAM;4BACR;;;;;;;;;;;;8BAKJ,8OAAC,wPAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,YAAY;wBAAE,UAAU;wBAAK,OAAO;oBAAI;oBACxC,WAAU;;sCAEV,8OAAC;4BAAG,WAAU;sCACX;;;;;;sCAEH,8OAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;;8BAKL,8OAAC,wPAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,YAAY;wBAAE,UAAU;wBAAK,OAAO;oBAAI;8BAEvC;wBAAC;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAC,sBACd,8OAAC,wPAAM,CAAC,GAAG;4BAET,WAAU;4BACV,SAAS;gCACP,OAAO;oCAAC;oCAAG;oCAAK;iCAAE;gCAClB,SAAS;oCAAC;oCAAK;oCAAG;iCAAI;4BACxB;4BACA,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,OAAO,QAAQ;gCACf,MAAM;4BACR;2BAXK;;;;;;;;;;;;;;;;;;;;;AAkBnB;KA/FwB"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/admin/DashboardPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { motion } from \"framer-motion\";\nimport { ShoppingOutlined, OrderedListOutlined, AppstoreOutlined } from \"@ant-design/icons\";\nimport { useAdminStore } from \"@/hooks/useAdminStore\";\nimport LoadingScreen from \"@/components/ui/LoadingScreen\";\n\nconst DashboardPage = () => {\n  const { orders, getStats, isLoading } = useAdminStore();\n\n  if (isLoading) {\n    return <LoadingScreen title=\"Loading dashboard...\" subtitle=\"Fetching latest admin data\" />;\n  }\n\n  const stats = getStats();\n  const statsData = [\n    { label: \"Total Orders\", value: stats.totalOrders.toString(), change: \"\", positive: true },\n    { label: \"Pending Orders\", value: stats.pendingOrders.toString(), change: \"\", positive: stats.pendingOrders === 0 },\n    { label: \"Revenue\", value: `৳${stats.revenue.toLocaleString()}`, change: \"\", positive: true },\n    { label: \"Today\", value: `৳${stats.todayRevenue.toLocaleString()}`, change: \"\", positive: true },\n  ];\n\n  const recentOrders = orders.slice(0, 5);\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"pending\":\n        return \"bg-yellow-100 text-yellow-800\";\n      case \"confirmed\":\n        return \"bg-blue-100 text-blue-800\";\n      case \"delivered\":\n        return \"bg-green-100 text-green-800\";\n      case \"cancelled\":\n        return \"bg-red-100 text-red-800\";\n      default:\n        return \"bg-gray-100 text-gray-800\";\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffHours / 24);\n    if (diffHours < 1) return \"Just now\";\n    if (diffHours < 24) return `${diffHours} hours ago`;\n    if (diffDays === 1) return \"1 day ago\";\n    return `${diffDays} days ago`;\n  };\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8\">\n        {statsData.map((stat, index) => (\n          <motion.div\n            key={stat.label}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.1 }}\n            className=\"bg-card rounded-xl p-6 shadow-soft\"\n          >\n            <p className=\"text-muted-foreground text-sm mb-2\">{stat.label}</p>\n            <div className=\"flex items-end justify-between\">\n              <span className=\"text-2xl lg:text-3xl font-bold text-foreground\">{stat.value}</span>\n              {stat.change && (\n                <span className={`text-xs lg:text-sm font-medium ${stat.positive ? \"text-green-600\" : \"text-yellow-600\"}`}>\n                  {stat.change}\n                </span>\n              )}\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.4 }}\n        className=\"bg-card rounded-xl shadow-soft\"\n      >\n        <div className=\"p-4 lg:p-6 border-b border-border flex justify-between items-center\">\n          <h2 className=\"font-display text-lg font-semibold\">Recent Orders</h2>\n          <Link href=\"/admin/orders\" className=\"text-sm text-primary hover:text-primary/80 transition-colors\">\n            View All\n          </Link>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-secondary/50\">\n              <tr>\n                <th className=\"text-left px-4 lg:px-6 py-4 text-sm font-medium text-muted-foreground\">Order #</th>\n                <th className=\"text-left px-4 lg:px-6 py-4 text-sm font-medium text-muted-foreground hidden sm:table-cell\">\n                  Customer\n                </th>\n                <th className=\"text-left px-4 lg:px-6 py-4 text-sm font-medium text-muted-foreground\">Total</th>\n                <th className=\"text-left px-4 lg:px-6 py-4 text-sm font-medium text-muted-foreground\">Status</th>\n                <th className=\"text-left px-4 lg:px-6 py-4 text-sm font-medium text-muted-foreground hidden md:table-cell\">\n                  Date\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-border\">\n              {recentOrders.map((order) => (\n                <tr key={order.id} className=\"hover:bg-secondary/30 transition-colors\">\n                  <td className=\"px-4 lg:px-6 py-4 text-sm font-medium text-foreground\">{order.orderNumber}</td>\n                  <td className=\"px-4 lg:px-6 py-4 text-sm text-foreground hidden sm:table-cell\">\n                    {order.customer.name}\n                  </td>\n                  <td className=\"px-4 lg:px-6 py-4 text-sm font-medium text-foreground\">৳{order.total}</td>\n                  <td className=\"px-4 lg:px-6 py-4\">\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium capitalize ${getStatusColor(order.status)}`}>\n                      {order.status}\n                    </span>\n                  </td>\n                  <td className=\"px-4 lg:px-6 py-4 text-sm text-muted-foreground hidden md:table-cell\">\n                    {formatDate(order.createdAt)}\n                  </td>\n                </tr>\n              ))}\n              {recentOrders.length === 0 && (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-8 text-center text-muted-foreground\">\n                    No orders yet\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </motion.div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.5 }}\n        className=\"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4\"\n      >\n        <Link\n          href=\"/admin/products\"\n          className=\"bg-card rounded-xl p-6 shadow-soft hover:shadow-medium transition-shadow flex items-center gap-4 group\"\n        >\n          <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors\">\n            <ShoppingOutlined className=\"text-2xl text-primary\" />\n          </div>\n          <div>\n            <h3 className=\"font-semibold text-foreground\">Products</h3>\n            <p className=\"text-sm text-muted-foreground\">Manage product listings</p>\n          </div>\n        </Link>\n        <Link\n          href=\"/admin/orders\"\n          className=\"bg-card rounded-xl p-6 shadow-soft hover:shadow-medium transition-shadow flex items-center gap-4 group\"\n        >\n          <div className=\"w-12 h-12 rounded-lg bg-accent/10 flex items-center justify-center group-hover:bg-accent/20 transition-colors\">\n            <OrderedListOutlined className=\"text-2xl text-accent\" />\n          </div>\n          <div>\n            <h3 className=\"font-semibold text-foreground\">Orders</h3>\n            <p className=\"text-sm text-muted-foreground\">View and update orders</p>\n          </div>\n        </Link>\n        <Link\n          href=\"/admin/categories\"\n          className=\"bg-card rounded-xl p-6 shadow-soft hover:shadow-medium transition-shadow flex items-center gap-4 group\"\n        >\n          <div className=\"w-12 h-12 rounded-lg bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors\">\n            <AppstoreOutlined className=\"text-2xl text-green-600\" />\n          </div>\n          <div>\n            <h3 className=\"font-semibold text-foreground\">Categories</h3>\n            <p className=\"text-sm text-muted-foreground\">Manage store categories</p>\n          </div>\n        </Link>\n      </motion.div>\n    </>\n  );\n};\n\nexport default DashboardPage;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,gBAAgB;;IACpB,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAA,kMAAa;IAErD,IAAI,WAAW;QACb,qBAAO,8OAAC,wMAAa;YAAC,OAAM;YAAuB,UAAS;;;;;;IAC9D;IAEA,MAAM,QAAQ;IACd,MAAM,YAAY;QAChB;YAAE,OAAO;YAAgB,OAAO,MAAM,WAAW,CAAC,QAAQ;YAAI,QAAQ;YAAI,UAAU;QAAK;QACzF;YAAE,OAAO;YAAkB,OAAO,MAAM,aAAa,CAAC,QAAQ;YAAI,QAAQ;YAAI,UAAU,MAAM,aAAa,KAAK;QAAE;QAClH;YAAE,OAAO;YAAW,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO,CAAC,cAAc,IAAI;YAAE,QAAQ;YAAI,UAAU;QAAK;QAC5F;YAAE,OAAO;YAAS,OAAO,CAAC,CAAC,EAAE,MAAM,YAAY,CAAC,cAAc,IAAI;YAAE,QAAQ;YAAI,UAAU;QAAK;KAChG;IAED,MAAM,eAAe,OAAO,KAAK,CAAC,GAAG;IAErC,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,IAAI;QAChB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;QAC3C,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS,CAAC,OAAO,KAAK,EAAE;QACrD,MAAM,WAAW,KAAK,KAAK,CAAC,YAAY;QACxC,IAAI,YAAY,GAAG,OAAO;QAC1B,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,UAAU,CAAC;QACnD,IAAI,aAAa,GAAG,OAAO;QAC3B,OAAO,GAAG,SAAS,SAAS,CAAC;IAC/B;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,MAAM,sBACpB,8OAAC,wPAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO,QAAQ;wBAAI;wBACjC,WAAU;;0CAEV,8OAAC;gCAAE,WAAU;0CAAsC,KAAK,KAAK;;;;;;0CAC7D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAkD,KAAK,KAAK;;;;;;oCAC3E,KAAK,MAAM,kBACV,8OAAC;wCAAK,WAAW,CAAC,+BAA+B,EAAE,KAAK,QAAQ,GAAG,mBAAmB,mBAAmB;kDACtG,KAAK,MAAM;;;;;;;;;;;;;uBAXb,KAAK,KAAK;;;;;;;;;;0BAmBrB,8OAAC,wPAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAqC;;;;;;0CACnD,8OAAC,2NAAI;gCAAC,MAAK;gCAAgB,WAAU;0CAA+D;;;;;;;;;;;;kCAItG,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAM,WAAU;8CACf,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAwE;;;;;;0DACtF,8OAAC;gDAAG,WAAU;0DAA6F;;;;;;0DAG3G,8OAAC;gDAAG,WAAU;0DAAwE;;;;;;0DACtF,8OAAC;gDAAG,WAAU;0DAAwE;;;;;;0DACtF,8OAAC;gDAAG,WAAU;0DAA6F;;;;;;;;;;;;;;;;;8CAK/G,8OAAC;oCAAM,WAAU;;wCACd,aAAa,GAAG,CAAC,CAAC,sBACjB,8OAAC;gDAAkB,WAAU;;kEAC3B,8OAAC;wDAAG,WAAU;kEAAyD,MAAM,WAAW;;;;;;kEACxF,8OAAC;wDAAG,WAAU;kEACX,MAAM,QAAQ,CAAC,IAAI;;;;;;kEAEtB,8OAAC;wDAAG,WAAU;;4DAAwD;4DAAE,MAAM,KAAK;;;;;;;kEACnF,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAW,CAAC,sDAAsD,EAAE,eAAe,MAAM,MAAM,GAAG;sEACrG,MAAM,MAAM;;;;;;;;;;;kEAGjB,8OAAC;wDAAG,WAAU;kEACX,WAAW,MAAM,SAAS;;;;;;;+CAZtB,MAAM,EAAE;;;;;wCAgBlB,aAAa,MAAM,KAAK,mBACvB,8OAAC;sDACC,cAAA,8OAAC;gDAAG,SAAS;gDAAG,WAAU;0DAA8C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUpF,8OAAC,wPAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;;kCAEV,8OAAC,2NAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,kSAAgB;oCAAC,WAAU;;;;;;;;;;;0CAE9B,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;kCAGjD,8OAAC,2NAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,2SAAmB;oCAAC,WAAU;;;;;;;;;;;0CAEjC,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;kCAGjD,8OAAC,2NAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,kSAAgB;oCAAC,WAAU;;;;;;;;;;;0CAE9B,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzD;GA1KM;;QACoC,kMAAa;;;KADjD;uCA4KS"}}]
}