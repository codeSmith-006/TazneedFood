{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA0BsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA2DsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/products.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Product from \"@/models/Product\";\nimport Category from \"@/models/Category\";\n\nconst toPayload = (product) => ({\n  id: product._id.toString(),\n  name: product.name,\n  slug: product.slug,\n  category: product.category?.toString(),\n  categorySlug: product.categorySlug,\n  price: product.price,\n  oldPrice: product.oldPrice,\n  description: product.description || \"\",\n  details: product.details || [],\n  images: product.images || [],\n  inStock: Boolean(product.inStock),\n  isBestSeller: Boolean(product.isBestSeller),\n  isOffer: Boolean(product.isOffer),\n  createdAt: product.createdAt,\n  updatedAt: product.updatedAt,\n});\n\nexport async function createProduct(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  const categoryId = data.categoryId || data.category;\n  const category = await Category.findById(categoryId);\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  const product = await Product.create({\n    name: data.name,\n    slug: data.slug,\n    category: category._id,\n    categorySlug: category.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  });\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function updateProduct(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n\n  let categoryId = data.categoryId || data.category;\n  let categorySlug = data.categorySlug;\n  if (categoryId) {\n    const category = await Category.findById(categoryId);\n    if (!category) {\n      throw new Error(\"Category not found\");\n    }\n    categorySlug = category.slug;\n  }\n\n  const updates = {\n    name: data.name,\n    slug: data.slug,\n    price: data.price,\n    oldPrice: data.oldPrice,\n    description: data.description || \"\",\n    details: data.details || [],\n    images: data.images || [],\n    inStock: Boolean(data.inStock),\n    isBestSeller: Boolean(data.isBestSeller),\n    isOffer: Boolean(data.isOffer),\n  };\n\n  if (categoryId) {\n    updates.category = categoryId;\n    updates.categorySlug = categorySlug;\n  }\n\n  const product = await Product.findByIdAndUpdate(id, updates, { new: true });\n  if (!product) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return toPayload(product);\n}\n\nexport async function deleteProduct(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Product.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Product not found\");\n  }\n\n  revalidateTag(\"products\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAwGsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,iDAAA"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAkBsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MAoCsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/categories.js"],"sourcesContent":["\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Category from \"@/models/Category\";\nimport Product from \"@/models/Product\";\n\nconst toPayload = (category) => ({\n  id: category._id.toString(),\n  name: category.name,\n  slug: category.slug,\n  description: category.description || \"\",\n  image: category.image || \"\",\n  createdAt: category.createdAt,\n  updatedAt: category.updatedAt,\n});\n\nexport async function createCategory(data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.create({\n    name: data.name,\n    slug: data.slug,\n    description: data.description || \"\",\n    image: data.image || \"\",\n  });\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function updateCategory(id, data) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const category = await Category.findByIdAndUpdate(\n    id,\n    {\n      name: data.name,\n      slug: data.slug,\n      description: data.description || \"\",\n      image: data.image || \"\",\n    },\n    { new: true },\n  );\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return toPayload(category);\n}\n\nexport async function deleteCategory(id) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const productCount = await Product.countDocuments({ category: id });\n  if (productCount > 0) {\n    throw new Error(\"Category has products\");\n  }\n\n  const deleted = await Category.findByIdAndDelete(id);\n  if (!deleted) {\n    throw new Error(\"Category not found\");\n  }\n\n  revalidateTag(\"categories\");\n  return { id };\n}\n"],"names":[],"mappings":";;;;;;;MA8DsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,kDAAA"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MA+EsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,qDAAA"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MAoHsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,+CAAA"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/actions/orders.js"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport { requireAdmin } from \"@/lib/permissions\";\nimport Order from \"@/models/Order\";\nimport Product from \"@/models/Product\";\nimport { getOrderAnalytics as getOrderAnalyticsUtil } from \"@/lib/orderAnalytics\";\nimport { generateUniqueOrderNumber } from \"@/lib/orderNumber\";\n\nexport async function createOrder(orderData) {\n  await connectDB();\n\n  const customer = orderData?.customer || {};\n  const items = Array.isArray(orderData?.items) ? orderData.items : [];\n  const paymentType = orderData?.paymentType === \"online\" ? \"online\" : \"cod\";\n  const coupon = orderData?.coupon || undefined;\n\n  if (!customer.name || !customer.phone || !customer.address) {\n    throw new Error(\"Invalid customer information\");\n  }\n\n  if (items.length === 0) {\n    throw new Error(\"Order items are required\");\n  }\n\n  const productIds = items.map((item) => item.productId || item.product).filter(Boolean);\n  if (productIds.length === 0) {\n    throw new Error(\"Order items are invalid\");\n  }\n\n  const products = await Product.find({ _id: { $in: productIds } }).lean();\n  const productById = new Map(products.map((product) => [product._id.toString(), product]));\n\n  const normalizedItems = items.map((item) => {\n    const productId = item.productId || item.product;\n    const product = productById.get(String(productId));\n    if (!product) {\n      throw new Error(\"Product not found for order item\");\n    }\n    const quantity = Math.max(1, Number(item.quantity || 1));\n    return {\n      product: product._id,\n      productName: product.name,\n      price: product.price,\n      quantity,\n      image: product.images?.[0] || \"\",\n    };\n  });\n\n  const subtotal = normalizedItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const discount = 0;\n  const total = Math.max(0, subtotal - discount);\n\n  const orderNumber = await generateUniqueOrderNumber();\n\n  const order = await Order.create({\n    orderNumber,\n    customer: {\n      name: customer.name,\n      phone: customer.phone,\n      address: customer.address,\n    },\n    items: normalizedItems,\n    subtotal,\n    discount,\n    coupon,\n    total,\n    paymentType,\n    status: \"pending\",\n  });\n\n  return {\n    id: order._id.toString(),\n    orderNumber: order.orderNumber,\n    status: order.status,\n  };\n}\n\nexport async function updateOrderStatus(orderId, status) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  const allowedStatuses = [\"pending\", \"confirmed\", \"delivered\", \"cancelled\"];\n  if (!allowedStatuses.includes(status)) {\n    throw new Error(\"Invalid order status\");\n  }\n\n  await connectDB();\n  const order = await Order.findById(orderId);\n  if (!order) {\n    throw new Error(\"Order not found\");\n  }\n\n  const transitions = {\n    pending: new Set([\"confirmed\", \"cancelled\"]),\n    confirmed: new Set([\"delivered\", \"cancelled\"]),\n    delivered: new Set([]),\n    cancelled: new Set([]),\n  };\n\n  if (order.status !== status && !transitions[order.status]?.has(status)) {\n    throw new Error(`Invalid status transition from ${order.status} to ${status}`);\n  }\n\n  order.status = status;\n  await order.save();\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: order._id.toString(), status: order.status };\n}\n\nexport async function deleteOrder(orderId) {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  const deleted = await Order.findByIdAndDelete(orderId);\n  if (!deleted) {\n    throw new Error(\"Order not found\");\n  }\n\n  revalidatePath(\"/admin/orders\");\n  revalidatePath(\"/admin/dashboard\");\n\n  return { id: orderId };\n}\n\nexport async function getOrderAnalytics() {\n  const auth = await requireAdmin();\n  if (!auth.ok) {\n    throw new Error(auth.status === 401 ? \"Unauthorized\" : \"Forbidden\");\n  }\n\n  await connectDB();\n  return getOrderAnalyticsUtil();\n}\n"],"names":[],"mappings":";;;;;;;MAsIsB,wBAAA,WAAA,GAAA,IAAA,gSAAA,EAAA,8CAAA,qRAAA,EAAA,KAAA,GAAA,2RAAA,EAAA,qDAAA"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/hooks/useAdminStore.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { createProduct, updateProduct, deleteProduct } from \"@/app/actions/products\";\nimport { createCategory, updateCategory, deleteCategory } from \"@/app/actions/categories\";\nimport { updateOrderStatus, deleteOrder, getOrderAnalytics } from \"@/app/actions/orders\";\n\nconst CACHE_TTL_MS = 60 * 1000;\nconst adminCache = {\n  products: null,\n  categories: null,\n  orders: null,\n  analytics: null,\n  timestamp: 0,\n};\n\nexport const useAdminStore = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [analytics, setAnalytics] = useState({\n    totalOrders: 0,\n    pendingOrders: 0,\n    deliveredOrders: 0,\n    cancelledOrders: 0,\n    totalRevenue: 0,\n    todayRevenue: 0,\n    ordersPerDay: [],\n  });\n  const [isLoading, setIsLoading] = useState(true);\n\n  const refreshData = useCallback(async (force = false) => {\n    setIsLoading(true);\n\n    const cacheAge = Date.now() - adminCache.timestamp;\n    const cacheReady =\n      adminCache.timestamp > 0 &&\n      cacheAge < CACHE_TTL_MS &&\n      adminCache.products &&\n      adminCache.categories &&\n      adminCache.orders &&\n      adminCache.analytics;\n\n    if (!force && cacheReady) {\n      setProducts(adminCache.products);\n      setCategories(adminCache.categories);\n      setOrders(adminCache.orders);\n      setAnalytics(adminCache.analytics);\n      setIsLoading(false);\n      return;\n    }\n\n    const [productsRes, categoriesRes, ordersRes] = await Promise.all([\n      fetch(\"/api/products?limit=1000\"),\n      fetch(\"/api/categories\"),\n      fetch(\"/api/orders?page=1&limit=200\"),\n    ]);\n\n    const nextCache = {\n      products: productsRes.ok ? (await productsRes.json()).products || [] : adminCache.products || [],\n      categories: categoriesRes.ok ? (await categoriesRes.json()).categories || [] : adminCache.categories || [],\n      orders: ordersRes.ok ? (await ordersRes.json()).orders || [] : adminCache.orders || [],\n      analytics: adminCache.analytics || analytics,\n    };\n\n    setProducts(nextCache.products);\n    setCategories(nextCache.categories);\n    setOrders(nextCache.orders);\n\n    try {\n      const analyticsData = await getOrderAnalytics();\n      nextCache.analytics = analyticsData;\n      setAnalytics(analyticsData);\n    } catch {\n      setAnalytics((prev) => prev);\n    }\n\n    adminCache.products = nextCache.products;\n    adminCache.categories = nextCache.categories;\n    adminCache.orders = nextCache.orders;\n    adminCache.analytics = nextCache.analytics;\n    adminCache.timestamp = Date.now();\n\n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    refreshData();\n  }, [refreshData]);\n\n  const addProduct = useCallback(async (product) => {\n    const created = await createProduct(product);\n    setProducts((prev) => [...prev, created]);\n    return created;\n  }, []);\n\n  const updateProductById = useCallback(async (id, updates) => {\n    const updated = await updateProduct(id, updates);\n    setProducts((prev) => prev.map((p) => (p.id === id ? updated : p)));\n  }, []);\n\n  const deleteProductById = useCallback(async (id) => {\n    await deleteProduct(id);\n    setProducts((prev) => prev.filter((p) => p.id !== id));\n  }, []);\n\n  const addCategory = useCallback(async (category) => {\n    const created = await createCategory(category);\n    setCategories((prev) => [...prev, created]);\n    return created;\n  }, []);\n\n  const updateCategoryById = useCallback(async (id, updates) => {\n    const updated = await updateCategory(id, updates);\n    setCategories((prev) => prev.map((c) => (c.id === id ? updated : c)));\n  }, []);\n\n  const deleteCategoryById = useCallback(async (id) => {\n    await deleteCategory(id);\n    setCategories((prev) => prev.filter((c) => c.id !== id));\n  }, []);\n\n  const updateOrderStatusById = useCallback(async (id, status) => {\n    const updated = await updateOrderStatus(id, status);\n    setOrders((prev) => prev.map((o) => (o.id === id ? { ...o, status: updated.status } : o)));\n  }, []);\n\n  const deleteOrderById = useCallback(async (id) => {\n    await deleteOrder(id);\n    setOrders((prev) => prev.filter((o) => o.id !== id));\n  }, []);\n\n  const getStats = useCallback(() => {\n    return {\n      totalOrders: analytics.totalOrders,\n      pendingOrders: analytics.pendingOrders,\n      deliveredOrders: analytics.deliveredOrders,\n      cancelledOrders: analytics.cancelledOrders,\n      revenue: analytics.totalRevenue,\n      todayRevenue: analytics.todayRevenue,\n      totalProducts: products.length,\n      ordersPerDay: analytics.ordersPerDay,\n    };\n  }, [analytics, products.length]);\n\n  return {\n    products,\n    categories,\n    orders,\n    analytics,\n    isLoading,\n    addProduct,\n    updateProduct: updateProductById,\n    deleteProduct: deleteProductById,\n    addCategory,\n    updateCategory: updateCategoryById,\n    deleteCategory: deleteCategoryById,\n    updateOrderStatus: updateOrderStatusById,\n    deleteOrder: deleteOrderById,\n    getStats,\n    refreshData,\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/ui/textarea.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\n    return (<textarea className={cn(\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\", className)} ref={ref} {...props}/>);\n});\nTextarea.displayName = \"Textarea\";\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAIA,MAAM,yBAAW,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxD,qBAAQ,+RAAC;QAAS,WAAW,IAAA,0KAAE,EAAC,wSAAwS;QAAY,KAAK;QAAM,GAAG,KAAK;;;;;;AAC3W;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/ui/label.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\nconst Label = React.forwardRef(({ className, ...props }, ref) => (<LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props}/>));\nLabel.displayName = LabelPrimitive.Root.displayName;\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAMA,MAAM,gBAAgB,IAAA,wNAAG,EAAC;AAC1B,MAAM,sBAAQ,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,0NAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACrJ,MAAM,WAAW,GAAG,0NAAmB,CAAC,WAAW"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/ui/dialog.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (<DialogPrimitive.Overlay ref={ref} className={cn(\"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className)} {...props}/>));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (<DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content ref={ref} className={cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className)} {...props}>\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\"/>\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\nconst DialogHeader = ({ className, ...props }) => (<div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props}/>);\nDialogHeader.displayName = \"DialogHeader\";\nconst DialogFooter = ({ className, ...props }) => (<div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props}/>);\nDialogFooter.displayName = \"DialogFooter\";\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (<DialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)} {...props}/>));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (<DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props}/>));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\nexport { Dialog, DialogPortal, DialogOverlay, DialogClose, DialogTrigger, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription, };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAMA,MAAM,SAAS,2NAAoB;AACnC,MAAM,gBAAgB,8NAAuB;AAC7C,MAAM,eAAe,6NAAsB;AAC3C,MAAM,cAAc,4NAAqB;AACzC,MAAM,8BAAgB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,8NAAuB;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,0JAA0J;QAAa,GAAG,KAAK;;;;;;AAC1S,cAAc,WAAW,GAAG,8NAAuB,CAAC,WAAW;AAC/D,MAAM,8BAAgB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC;;0BACjF,+RAAC;;;;;0BACD,+RAAC,8NAAuB;gBAAC,KAAK;gBAAK,WAAW,IAAA,0KAAE,EAAC,+fAA+f;gBAAa,GAAG,KAAK;;oBAClkB;kCACD,+RAAC,4NAAqB;wBAAC,WAAU;;0CAC/B,+RAAC,kPAAC;gCAAC,WAAU;;;;;;0CACb,+RAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAIlC,cAAc,WAAW,GAAG,8NAAuB,CAAC,WAAW;AAC/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAAM,+RAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;AACjJ,aAAa,WAAW,GAAG;AAC3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAAM,+RAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;AAC5J,aAAa,WAAW,GAAG;AAC3B,MAAM,4BAAc,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,4NAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,qDAAqD;QAAa,GAAG,KAAK;;;;;;AACjM,YAAY,WAAW,GAAG,4NAAqB,CAAC,WAAW;AAC3D,MAAM,kCAAoB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,kOAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AACzL,kBAAkB,WAAW,GAAG,kOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/ui/alert-dialog.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nconst AlertDialog = AlertDialogPrimitive.Root;\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\nconst AlertDialogOverlay = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPrimitive.Overlay className={cn(\"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className)} {...props} ref={ref}/>));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\nconst AlertDialogContent = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content ref={ref} className={cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className)} {...props}/>\n  </AlertDialogPortal>));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\nconst AlertDialogHeader = ({ className, ...props }) => (<div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props}/>);\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\nconst AlertDialogFooter = ({ className, ...props }) => (<div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props}/>);\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\nconst AlertDialogTitle = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props}/>));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\nconst AlertDialogDescription = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props}/>));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\nconst AlertDialogAction = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props}/>));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\nconst AlertDialogCancel = React.forwardRef(({ className, ...props }, ref) => (<AlertDialogPrimitive.Cancel ref={ref} className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)} {...props}/>));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\nexport { AlertDialog, AlertDialogPortal, AlertDialogOverlay, AlertDialogTrigger, AlertDialogContent, AlertDialogHeader, AlertDialogFooter, AlertDialogTitle, AlertDialogDescription, AlertDialogAction, AlertDialogCancel, };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAMA,MAAM,cAAc,oOAAyB;AAC7C,MAAM,qBAAqB,uOAA4B;AACvD,MAAM,oBAAoB,sOAA2B;AACrD,MAAM,mCAAqB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,uOAA4B;QAAC,WAAW,IAAA,0KAAE,EAAC,0JAA0J;QAAa,GAAG,KAAK;QAAE,KAAK;;;;;;AACjT,mBAAmB,WAAW,GAAG,uOAA4B,CAAC,WAAW;AACzE,MAAM,mCAAqB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC;;0BAC5E,+RAAC;;;;;0BACD,+RAAC,uOAA4B;gBAAC,KAAK;gBAAK,WAAW,IAAA,0KAAE,EAAC,+fAA+f;gBAAa,GAAG,KAAK;;;;;;;;;;;;AAE9kB,mBAAmB,WAAW,GAAG,uOAA4B,CAAC,WAAW;AACzE,MAAM,oBAAoB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAAM,+RAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;AACpJ,kBAAkB,WAAW,GAAG;AAChC,MAAM,oBAAoB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAAM,+RAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;AACjK,kBAAkB,WAAW,GAAG;AAChC,MAAM,iCAAmB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,qOAA0B;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,yBAAyB;QAAa,GAAG,KAAK;;;;;;AAC/K,iBAAiB,WAAW,GAAG,qOAA0B,CAAC,WAAW;AACrE,MAAM,uCAAyB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,2OAAgC;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AACnM,uBAAuB,WAAW,GAAG,2OAAgC,CAAC,WAAW;AACjF,MAAM,kCAAoB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,sOAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,IAAA,qMAAc,KAAI;QAAa,GAAG,KAAK;;;;;;AAC1K,kBAAkB,WAAW,GAAG,sOAA2B,CAAC,WAAW;AACvE,MAAM,kCAAoB,oQAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAS,+RAAC,sOAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,0KAAE,EAAC,IAAA,qMAAc,EAAC;YAAE,SAAS;QAAU,IAAI,gBAAgB;QAAa,GAAG,KAAK;;;;;;AAChN,kBAAkB,WAAW,GAAG,sOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/components/admin/CategoriesPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { PlusOutlined, EditOutlined, DeleteOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport { useAdminStore } from \"@/hooks/useAdminStore\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst CategoriesPage = () => {\n  const { categories, products, addCategory, updateCategory, deleteCategory, isLoading, refreshData } = useAdminStore();\n  const { toast } = useToast();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingCategory, setEditingCategory] = useState(null);\n  const [deleteCategoryId, setDeleteCategoryId] = useState(null);\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    slug: \"\",\n    description: \"\",\n    image: \"\",\n  });\n\n  const filteredCategories = categories.filter((category) =>\n    category.name.toLowerCase().includes(searchQuery.toLowerCase()),\n  );\n\n  const getProductCount = (categorySlug) => {\n    if (categorySlug === \"best-seller\") {\n      return products.filter((product) => product.isBestSeller).length;\n    }\n    if (categorySlug === \"offer\") {\n      return products.filter((product) => product.isOffer).length;\n    }\n    return products.filter((product) => product.categorySlug === categorySlug).length;\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: \"\",\n      slug: \"\",\n      description: \"\",\n      image: \"\",\n    });\n    setEditingCategory(null);\n  };\n\n  const openAddDialog = () => {\n    resetForm();\n    setIsDialogOpen(true);\n  };\n\n  const openEditDialog = (category) => {\n    setEditingCategory(category);\n    setFormData({\n      name: category.name,\n      slug: category.slug,\n      description: category.description,\n      image: category.image,\n    });\n    setIsDialogOpen(true);\n  };\n\n  const generateSlug = (name) => {\n    return name.toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/(^-|-$)/g, \"\");\n  };\n\n  const handleNameChange = (name) => {\n    setFormData((prev) => ({\n      ...prev,\n      name,\n      slug: generateSlug(name),\n    }));\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const categoryData = {\n      name: formData.name,\n      slug: formData.slug,\n      description: formData.description,\n      image: formData.image,\n    };\n\n    try {\n      if (editingCategory) {\n        await updateCategory(editingCategory.id, categoryData);\n        toast({ title: \"Category updated successfully!\" });\n      } else {\n        await addCategory(categoryData);\n        toast({ title: \"Category added successfully!\" });\n      }\n      setIsDialogOpen(false);\n      resetForm();\n      await refreshData();\n    } catch (error) {\n      toast({\n        title: \"Action failed\",\n        description: error?.message || \"Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!deleteCategoryId) return;\n\n    try {\n      await deleteCategory(deleteCategoryId);\n      toast({ title: \"Category deleted successfully!\" });\n      setDeleteCategoryId(null);\n      await refreshData();\n    } catch (error) {\n      toast({\n        title: \"Delete failed\",\n        description: error?.message || \"Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\n        <div className=\"relative flex-1 max-w-md\">\n          <SearchOutlined className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search categories...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Button onClick={openAddDialog} className=\"gap-2\">\n          <PlusOutlined /> Add Category\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        <AnimatePresence>\n          {filteredCategories.map((category, index) => (\n            <motion.div\n              key={category.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.9 }}\n              transition={{ delay: index * 0.05 }}\n              className=\"bg-card rounded-xl shadow-soft overflow-hidden group\"\n            >\n              <div className=\"aspect-video relative\">\n                <img src={category.image} alt={category.name} className=\"w-full h-full object-cover\" />\n                <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n                  <Button size=\"icon\" variant=\"secondary\" onClick={() => openEditDialog(category)}>\n                    <EditOutlined />\n                  </Button>\n                  <Button size=\"icon\" variant=\"destructive\" onClick={() => setDeleteCategoryId(category.id)}>\n                    <DeleteOutlined />\n                  </Button>\n                </div>\n                <div className=\"absolute top-2 right-2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded\">\n                  {getProductCount(category.slug)} products\n                </div>\n              </div>\n              <div className=\"p-4\">\n                <h3 className=\"font-semibold text-foreground text-lg\">{category.name}</h3>\n                <p className=\"text-sm text-muted-foreground line-clamp-2 mt-1\">{category.description}</p>\n                <p className=\"text-xs text-muted-foreground mt-2\">\n                  Slug: <code className=\"bg-secondary px-1 rounded\">{category.slug}</code>\n                </p>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n\n      {filteredCategories.length === 0 && (\n        <div className=\"text-center py-16\">\n          <p className=\"text-muted-foreground\">No categories found</p>\n        </div>\n      )}\n\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>{editingCategory ? \"Edit Category\" : \"Add New Category\"}</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Category Name</Label>\n              <Input\n                id=\"name\"\n                value={formData.name}\n                onChange={(e) => handleNameChange(e.target.value)}\n                placeholder=\"e.g., Organic Honey\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"slug\">Slug</Label>\n              <Input\n                id=\"slug\"\n                value={formData.slug}\n                onChange={(e) => setFormData((prev) => ({ ...prev, slug: e.target.value }))}\n                placeholder=\"organic-honey\"\n                required\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                This will be used in the URL: /collections/{formData.slug || \"your-slug\"}\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => setFormData((prev) => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Brief description of the category\"\n                rows={3}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"image\">Image URL</Label>\n              <Input\n                id=\"image\"\n                value={formData.image}\n                onChange={(e) => setFormData((prev) => ({ ...prev, image: e.target.value }))}\n                placeholder=\"https://example.com/category-image.jpg\"\n                required\n              />\n              {formData.image && (\n                <div className=\"mt-2\">\n                  <img\n                    src={formData.image}\n                    alt=\"Preview\"\n                    className=\"w-full h-32 object-cover rounded-lg\"\n                    onError={(e) => (e.currentTarget.style.display = \"none\")}\n                  />\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex justify-end gap-2 pt-4\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                Cancel\n              </Button>\n              <Button type=\"submit\">{editingCategory ? \"Update Category\" : \"Add Category\"}</Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={!!deleteCategoryId} onOpenChange={() => setDeleteCategoryId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Category</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete this category? This action cannot be undone. Make sure no products are\n              using this category before deleting.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n};\n\nexport default CategoriesPage;\n"],"names":[],"mappings":"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"}}]
}