{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/lib/mongodb.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst { MONGODB_URI } = process.env;\n\nif (!MONGODB_URI) {\n  throw new Error(\"Please define MONGODB_URI in .env.local\");\n}\n\nlet cached = global.mongoose;\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nexport async function connectDB() {\n  if (cached.conn) return cached.conn;\n\n  if (!cached.promise) {\n    cached.promise = mongoose\n      .connect(MONGODB_URI, { bufferCommands: false })\n      .then((mongooseInstance) => mongooseInstance);\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,EAAE,WAAW,EAAE,GAAG,QAAQ,GAAG;AAEnC,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,SAAS,yDAAO,QAAQ;AAC5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEO,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,oNAAQ,CACtB,OAAO,CAAC,aAAa;YAAE,gBAAgB;QAAM,GAC7C,IAAI,CAAC,CAAC,mBAAqB;IAChC;IAEA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/models/Product.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst ProductSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true, trim: true },\n    slug: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true,\n      index: true,\n    },\n    category: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: \"Category\",\n      required: true,\n    },\n    categorySlug: { type: String, required: true, trim: true, index: true },\n    price: { type: Number, required: true },\n    oldPrice: { type: Number },\n    description: { type: String, default: \"\" },\n    details: [{ type: String }],\n    images: [{ type: String }],\n    inStock: { type: Boolean, default: true },\n    isBestSeller: { type: Boolean, default: false, index: true },\n    isOffer: { type: Boolean, default: false, index: true },\n  },\n  { timestamps: true },\n);\n\nProductSchema.index({ price: 1 });\n\nexport default mongoose.models.Product ||\n  mongoose.model(\"Product\", ProductSchema, \"products\");\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,oNAAQ,CAAC,MAAM,CACvC;IACE,MAAM;QAAE,MAAM;QAAQ,UAAU;QAAM,MAAM;IAAK;IACjD,MAAM;QACJ,MAAM;QACN,UAAU;QACV,QAAQ;QACR,MAAM;QACN,OAAO;IACT;IACA,UAAU;QACR,MAAM,oNAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;QACL,UAAU;IACZ;IACA,cAAc;QAAE,MAAM;QAAQ,UAAU;QAAM,MAAM;QAAM,OAAO;IAAK;IACtE,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,UAAU;QAAE,MAAM;IAAO;IACzB,aAAa;QAAE,MAAM;QAAQ,SAAS;IAAG;IACzC,SAAS;QAAC;YAAE,MAAM;QAAO;KAAE;IAC3B,QAAQ;QAAC;YAAE,MAAM;QAAO;KAAE;IAC1B,SAAS;QAAE,MAAM;QAAS,SAAS;IAAK;IACxC,cAAc;QAAE,MAAM;QAAS,SAAS;QAAO,OAAO;IAAK;IAC3D,SAAS;QAAE,MAAM;QAAS,SAAS;QAAO,OAAO;IAAK;AACxD,GACA;IAAE,YAAY;AAAK;AAGrB,cAAc,KAAK,CAAC;IAAE,OAAO;AAAE;uCAEhB,oNAAQ,CAAC,MAAM,CAAC,OAAO,IACpC,oNAAQ,CAAC,KAAK,CAAC,WAAW,eAAe"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///home/ryanrehan/Programming/Development/artisan-eats/src/app/api/products/%5Bslug%5D/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { connectDB } from \"@/lib/mongodb\";\nimport Product from \"@/models/Product\";\n\nexport async function GET(req, { params }) {\n  try {\n    await connectDB();\n    const { slug: rawSlug } = await params;\n    const slug = rawSlug ? String(rawSlug) : \"\";\n\n    const product = await Product.findOne({ slug }).lean();\n    if (!product) {\n      return NextResponse.json({ error: \"Product not found\" }, { status: 404 });\n    }\n\n    const normalized = {\n      id: product._id.toString(),\n      name: product.name,\n      slug: product.slug,\n      category: product.category?.toString(),\n      categorySlug: product.categorySlug,\n      price: product.price,\n      oldPrice: product.oldPrice,\n      description: product.description || \"\",\n      details: product.details || [],\n      images: product.images || [],\n      inStock: Boolean(product.inStock),\n      isBestSeller: Boolean(product.isBestSeller),\n      isOffer: Boolean(product.isOffer),\n      createdAt: product.createdAt,\n      updatedAt: product.updatedAt,\n    };\n\n    return NextResponse.json({ product: normalized });\n  } catch (error) {\n    return NextResponse.json({ error: \"Failed to load product\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAG,EAAE,EAAE,MAAM,EAAE;IACvC,IAAI;QACF,MAAM,IAAA,qLAAS;QACf,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM;QAChC,MAAM,OAAO,UAAU,OAAO,WAAW;QAEzC,MAAM,UAAU,MAAM,sLAAO,CAAC,OAAO,CAAC;YAAE;QAAK,GAAG,IAAI;QACpD,IAAI,CAAC,SAAS;YACZ,OAAO,iMAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,MAAM,aAAa;YACjB,IAAI,QAAQ,GAAG,CAAC,QAAQ;YACxB,MAAM,QAAQ,IAAI;YAClB,MAAM,QAAQ,IAAI;YAClB,UAAU,QAAQ,QAAQ,EAAE;YAC5B,cAAc,QAAQ,YAAY;YAClC,OAAO,QAAQ,KAAK;YACpB,UAAU,QAAQ,QAAQ;YAC1B,aAAa,QAAQ,WAAW,IAAI;YACpC,SAAS,QAAQ,OAAO,IAAI,EAAE;YAC9B,QAAQ,QAAQ,MAAM,IAAI,EAAE;YAC5B,SAAS,QAAQ,QAAQ,OAAO;YAChC,cAAc,QAAQ,QAAQ,YAAY;YAC1C,SAAS,QAAQ,QAAQ,OAAO;YAChC,WAAW,QAAQ,SAAS;YAC5B,WAAW,QAAQ,SAAS;QAC9B;QAEA,OAAO,iMAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAW;IACjD,EAAE,OAAO,OAAO;QACd,OAAO,iMAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF"}}]
}